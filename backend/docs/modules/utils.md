# src/utils Модуль

Этот модуль предоставляет утилиты для форматирования данных, обработки изображений и манипуляции атрибутами. Каждый файл поддерживает определенный аспект нормализации данных о продуктах и интеграции.

# vente_utils:

## - format_attr.py
Функции для проверки и форматирования количества продуктов и других атрибутов.
- **Пример:** `product_quantity_check(value)` проверяет и нормализует значения количества.

## - format_little.py
Валидация EAN-кодов и получение сроков доставки выбранной ткани.
- **Пример:** `is_valid_ean(ean)` проверяет, является ли EAN-код корректным для импорта продукта.

## - format_html.py
Утилиты для парсинга HTML и извлечения описаний и свойств продуктов.
- **Пример:** `extract_product_properties_from_html(html)` извлекает структурированные данные из HTML-описаний.

## - image_worker.py
Функции обработки изображений, включая изменение размера, валидацию и поддержку загрузки на FTP.
- **Пример:** `resize_image_and_upload(url, ean, httpx_client, ftp_client, test)` изменяет размер изображений и загружает их на FTP.

## - substitute_formatter.py
Утилиты для подстановки атрибутов и форматирования строк для динамического сопоставления и нормализации.
- **Пример:** `substitute_attr(template, values)` заменяет плейсхолдеры в шаблонах атрибутов на фактические значения.


# lutz_utils:
## - csv_tools.py
Создает CSV-файлы по заданному маппингу для загрузки в Mirakl.
- **Пример:** `write_csv(fieldnames: list, rows: list)` создает CSV-файл в памяти Python.
## - image_processing.py
Редактирует некорректные изображения и отправляет их на FTP-сервер, а также удаляет фон изображения.
- **Пример:** `process_single_image(url: str, ean: str, ftp_client: aioftp.Client, httpx_client: httpx.AsyncClient)` включает все функции и полностью обрабатывает изображение: загружает, изменяет размер и отправляет на FTP.
## - mapping_tools.py
Сопоставляет все атрибуты, полученные из Afterbuy, с атрибутами Mirakl.